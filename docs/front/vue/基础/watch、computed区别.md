# watch 和 computed 的区别

## watch

-   不支持缓存，数据变，则会触发相应的操作；
-   watch 支持异步
-   监听的函数接收两个参数，第一个参数是新值，第二个参数是旧值
-   当一个属性发生变化时，执行对应的 handle 函数，一个函数处理多个数据的变化，一对多。
-   监听的数据必须是 data 中声明过的或者父组件传递过来的 props 中的数据，当数据变化时，触发其它操作，函数有两个属性
-   immediate：组件加载立即触发回调函数执行
    -   deep：深度监听，为了发现复杂数据类型内部值的变化，监听数组的变化不需要（必须要用更改原数组的方法去更改才能监听到）。注意：deep 无法监听到数组的变动及对象的新增，只有以响应式的方式去改变才能监听到数值变化.

## computed

-   支持缓存，只有依赖的数据发生变化时，才会重新计算
-   不支持异步，当 computed 内有异步操作时无效，无法监听数据的变化
-   computed 计算属性是一个多对一或者一对一的情况，是由其他属性计算而来（一个或者多个），多对一。
-   如果 computed 属性属性值是函数，那么默认会走 get 方法；函数的返回值就是属性的属性值；在 computed 中，属性都有一个 get 和 set 方法，当数据变化时，调用 set 方法

|      | watch | computed |
| ---- | ----- | -------- |
| 缓存 | ×     | √        |
| 异步 | √     | ×        |
|      |       |          |

