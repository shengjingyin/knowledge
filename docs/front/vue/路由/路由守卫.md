**守卫分为三种守卫：全局守卫、路由独享守卫、组件内守卫。合计 7 个生命周期钩子**

全局守卫：

- beforeEach 守卫。
- beforeResolve 守卫 (2.5+)。
- afterEach 钩子。

路由独享守卫：

- beforeEnter 守卫

组件内守卫：

- beforeRouteEnter
- beforeRouteUpdate (2.2 新增)
- beforeRouteLeave

完整的导航解析流程：

- 导航被触发。
- 在失活的组件里调用 beforeRouteLeave 守卫。
  > 离开当前组件
- 调用**全局**的 beforeEach 守卫。
- 在重用的组件里调用 beforeRouteUpdate 守卫 (2.2+)。
  > 第二次进行组件
- 在路由配置里调用 beforeEnter。
- 解析异步路由组件。
- 在被激活的组件里调用 beforeRouteEnter。
  > 进入组件
- 调用**全局**的 beforeResolve 守卫 (2.5+)。
- 导航被确认。
- 调用**全局**的 afterEach 钩子。
- 触发 DOM 更新。
- 调用 beforeRouteEnter 守卫中传给 next 的回调函数，创建好的组件实例会作为回调函数的参数传入。

  可以传递**回调函数**，以此来**获取当前组件实例**。在组件的其它生命钩子：`beforeRouteLeave`、`beforeRouteUpdate`都能获取到组件实例，所以不需要回调函数的形式来获取组件实例

  ```js{3}
  beforeRouteEnter (to, from, next) {
    next(vm => {
      // 通过 `vm` 访问组件实例
    })
  }
  ```
