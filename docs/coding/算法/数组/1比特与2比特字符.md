

# [717. 1 比特与 2 比特字符](https://leetcode-cn.com/problems/1-bit-and-2-bit-characters/)

[toc]

有两种特殊字符：

-   第一种字符可以用一个比特 0 来表示

-   第二种字符可以用两个比特(10 或 11)来表示、

给定一个以 0 结尾的二进制数组 bits ，如果最后一个字符必须是一位字符，则返回 true 。

示例 1:

```
输入: bits = [1, 0, 0]
输出: true
解释: 唯一的编码方式是一个两比特字符和一个一比特字符。
所以最后一个字符是一比特字符。
```

示例 2:

```
输入: bits = [1, 1, 1, 0]
输出: false
解释: 唯一的编码方式是两比特字符和两比特字符。
所以最后一个字符不是一比特字符。
```

**提示:**

-   `1 <= bits.length <= 1000`
-   `bits[i] == 0 or 1`

## 题解

### 解题思路

-   遍历数组，判断当前值
    -   值为 1；说明是 2 比特值，其后必须还要有一位数（以 1 为结尾则为 false），如果当前为 1 的后面还有两位数都有值则继续遍历
    -   值为 0；则必须后面没有值了才算 true，否则继续循环

```typescript
function isOneBitCharacter(bits: number[]): boolean {
    let len: number = bits.length;
    for (let i: number = 0; i < len; i++) {
        const bit: number = bits[i],
            nextBit: number | undefined = bits[i + 1],
            dbNext: number | undefined = bits[i + 2];

        if (bit === 1) {
            if (nextBit !== undefined) {
                if (dbNext === undefined) {
                    return false;
                } else {
                    i++;
                    continue;
                }
            } else {
                return false;
            }
        } else {
            if (nextBit === undefined) {
                return true;
            }
        }
    }
}
```

时间复杂度：O(n)

空间复杂度：O(n)，因为遍历内部声明了变量

## 官方题解

方法一：正序遍历
根据题意，第一种字符一定以 00 开头，第二种字符一定以 11 开头。

我们可以对 \textit{bits}bits 数组从左到右遍历。当遍历到 \textit{bits}[i]bits[i] 时，如果 \textit{bits}[i]=0bits[i]=0，说明遇到了第一种字符，将 ii 的值增加 11；如果 \textit{bits}[i]=1bits[i]=1，说明遇到了第二种字符，可以跳过 \textit{bits}[i+1]bits[i+1]（注意题目保证 \textit{bits}bits 一定以 00 结尾，所以 \textit{bits}[i]bits[i] 一定不是末尾比特，因此 \textit{bits}[i+1]bits[i+1] 必然存在），将 ii 的值增加 22。

上述流程也说明 \textit{bits}bits 的编码方式是唯一确定的，因此若遍历到 i=n-1i=n−1，那么说明最后一个字符一定是第一种字符。

```js
var isOneBitCharacter = function(bits) {
    let i = 0,
        n = bits.length;
    while (i < n - 1) {
        i += bits[i] + 1;
    }
    return i === n - 1;
};
```

复杂度分析

时间复杂度：O(n)O(n)，其中 n 是数组 \textit{bits}bits 的长度。

空间复杂度：O(1)O(1)。
